<!-- Form -->
<form id="setting-widget-form" class="form-horizontal" enctype="multipart/form-data" method="post">
  <ul class="nav nav-tabs">
    <li class="active"><a href="#tab-widget-general" data-toggle="tab">{{ tab_general }}</a></li>
    <li><a href="#tab-widget-icon" data-toggle="tab">{{ tab_icon }}</a></li>
    <li><a href="#tab-widget-text" data-toggle="tab">{{ tab_text }}</a></li>
    <li><a href="#tab-widget-notification" data-toggle="tab">{{ tab_notification }}</a></li>
  </ul>
  <div class="tab-content">
    <div id="tab-widget-general" class="tab-pane active">
      <!--widget status-->
      <div class="form-group">
        <label class="col-sm-3 control-label" for="input-setting-widget-status">{{ entry_status }}</label>
        <div class="col-sm-9">
          <div class="mz-switch-field">
            {% if (widget_status) %} 
            <input type="radio" name="widget_status" value="1" id="input-widget-status-enabled" checked>
            <label for="input-widget-status-enabled" >{{ text_enabled }}</label>
            <input type="radio" name="widget_status" value="0" id="input-widget-status-disabled">
            <label for="input-widget-status-disabled">{{ text_disabled }}</label>
            {% else %} 
            <input type="radio" name="widget_status" value="1" id="input-widget-status-enabled" >
            <label for="input-widget-status-enabled">{{ text_enabled }}</label>
            <input type="radio" name="widget_status" value="0" id="input-widget-status-disabled" checked>
            <label for="input-widget-status-disabled" >{{ text_disabled }}</label>
            {% endif %} 
          </div>
        </div>
      </div>
      
      <!--widget unsubscribe status-->
      <div class="form-group">
        <label class="col-sm-3 control-label" for="input-setting-widget-unsubscribe-status">{{ entry_unsubscribe }}</label>
        <div class="col-sm-9">
          <div class="mz-switch-field">
            {% if (widget_unsubscribe_status) %} 
            <input type="radio" name="widget_unsubscribe_status" value="1" id="input-widget-unsubscribe-status-enabled" checked>
            <label for="input-widget-unsubscribe-status-enabled" >{{ text_enabled }}</label>
            <input type="radio" name="widget_unsubscribe_status" value="0" id="input-widget-unsubscribe-status-disabled">
            <label for="input-widget-unsubscribe-status-disabled">{{ text_disabled }}</label>
            {% else %} 
            <input type="radio" name="widget_unsubscribe_status" value="1" id="input-widget-unsubscribe-status-enabled" >
            <label for="input-widget-unsubscribe-status-enabled">{{ text_enabled }}</label>
            <input type="radio" name="widget_unsubscribe_status" value="0" id="input-widget-unsubscribe-status-disabled" checked>
            <label for="input-widget-unsubscribe-status-disabled" >{{ text_disabled }}</label>
            {% endif %} 
          </div>
        </div>
      </div>
          
      <!-- widget subscribe button type -->
      <div class="form-group">
        <label class="col-xs-3 control-label" for="input-setting-widget-subscribe-button-types">{{ entry_subscribe_button }}</label>
        <div class="col-xs-9">
          <div class="mz-switch-field">
            {% for button_type in list_button_type %} 
              {% if (widget_subscribe_button_type == button_type['id']) %} 
              <input type="radio" name="widget_subscribe_button_type" value="{{ button_type['id'] }}" id="input-setting-widget-subscribe-button-type-{{ button_type['id'] }}" checked>
              <label for="input-setting-widget-subscribe-button-type-{{ button_type['id'] }}" >{{ button_type['name'] }}</label>
              {% else %} 
              <input type="radio" name="widget_subscribe_button_type" value="{{ button_type['id'] }}" id="input-setting-widget-subscribe-button-type-{{ button_type['id'] }}">
              <label for="input-setting-widget-subscribe-button-type-{{ button_type['id'] }}" >{{ button_type['name'] }}</label>
              {% endif %} 
            {% endfor %} 
          </div>
        </div>
      </div>
          
      <!-- widget unsubscribe button type -->
      <div class="form-group">
        <label class="col-xs-3 control-label" for="input-setting-widget-unsubscribe-button-types">{{ entry_unsubscribe_button }}</label>
        <div class="col-xs-9">
          <div class="mz-switch-field">
            {% for button_type in list_button_type %} 
              {% if (widget_unsubscribe_button_type == button_type['id']) %} 
              <input type="radio" name="widget_unsubscribe_button_type" value="{{ button_type['id'] }}" id="input-setting-widget-unsubscribe-button-type-{{ button_type['id'] }}" checked>
              <label for="input-setting-widget-unsubscribe-button-type-{{ button_type['id'] }}" >{{ button_type['name'] }}</label>
              {% else %} 
              <input type="radio" name="widget_unsubscribe_button_type" value="{{ button_type['id'] }}" id="input-setting-widget-unsubscribe-button-type-{{ button_type['id'] }}">
              <label for="input-setting-widget-unsubscribe-button-type-{{ button_type['id'] }}" >{{ button_type['name'] }}</label>
              {% endif %} 
            {% endfor %} 
          </div>
        </div>
      </div>
    </div>
          
    <div id="tab-widget-icon" class="tab-pane">
      {# subscribe button icon #}
      <div class="form-group">
        <label class="col-xs-3 control-label" >{{ entry_subscribe_button }}</label>
        <div class="col-xs-9">
          <ul class="nav nav-tabs">
            <li class="active"><a href="#tab-widget-subscribe-button-icon-image" data-meta="image" data-toggle="tab">{{ tab_image }}</a></li>
            <li><a href="#tab-widget-subscribe-button-icon-svg" data-meta="image" data-toggle="tab">{{ tab_svg }}</a></li>
            <li><a href="#tab-widget-subscribe-button-icon-font" data-meta="font" data-toggle="tab">{{ tab_font }}</a></li>
          </ul>
          <div class="tab-content">
            <div class="tab-pane active" id="tab-widget-subscribe-button-icon-image">
              <div class="el-group">
              {% for language in languages %}
                <span class="el-item-addon"><img src="language/{{ language.code }}/{{ language.code }}.png" title="{{ language.name }}" /></span>
                <div class="el-item">
                  <a href="" id="thumb-setting-widget-subscribe-button-icon-image{{ language.language_id }}" data-toggle="image" class="img-thumbnail"><img src="{{ (thumb_subscribe_button_icon_image[language.language_id] is defined)?thumb_subscribe_button_icon_image[language.language_id]:placeholder_image }}" alt="" title="" data-placeholder="{{ placeholder_image }}" /></a><input type="hidden" name="widget_subscribe_button_icon_image[{{ language.language_id }}]" value="{{ (widget_subscribe_button_icon_image[language.language_id] is defined)?widget_subscribe_button_icon_image[language.language_id]:'' }}" id="input-setting-widget-subscribe-button-icon-image{{ language.language_id }}" />
                </div>
              {% endfor %}
              </div>
            </div>
            <div class="tab-pane" id="tab-widget-subscribe-button-icon-svg">
              <div class="el-group">
              {% for language in languages %}
                <span class="el-item-addon"><img src="language/{{ language.code }}/{{ language.code }}.png" title="{{ language.name }}" /></span>
                <div class="el-item">
                  <a href="" id="thumb-setting-widget-subscribe-button-icon-svg{{ language.language_id }}" data-toggle="svg" class="img-thumbnail"><img width="100" height="100" src="{{ (thumb_subscribe_button_icon_svg[language.language_id] is defined)?thumb_subscribe_button_icon_svg[language.language_id]:placeholder_svg }}" alt="" title="" data-placeholder="{{ placeholder_svg }}" /></a><input type="hidden" name="widget_subscribe_button_icon_svg[{{ language.language_id }}]" value="{{ (widget_subscribe_button_icon_svg[language.language_id] is defined)?widget_subscribe_button_icon_svg[language.language_id]:'' }}" id="input-setting-widget-subscribe-button-icon-svg{{ language.language_id }}" />
                </div>
              {% endfor %}
              </div>
            </div>
            <div class="tab-pane" id="tab-widget-subscribe-button-icon-font">
              <div class="el-group">
              {% for language in languages %}
                <span class="el-item-addon"><img src="language/{{ language.code }}/{{ language.code }}.png" title="{{ language.name }}" /></span>
                <div class="el-item">
                  <a href="" id="thumb-setting-widget-subscribe-button-icon-font{{ language.language_id }}" data-toggle="font" class="img-thumbnail icon-thumb"><i class="{{ (widget_subscribe_button_icon_font[language.language_id] is not empty)?widget_subscribe_button_icon_font[language.language_id]:placeholder_font }}" data-placeholder="{{ placeholder_font }}"></i></a><input type="hidden" name="widget_subscribe_button_icon_font[{{ language.language_id }}]" value="{{ (widget_subscribe_button_icon_font[language.language_id] is defined)?widget_subscribe_button_icon_font[language.language_id]:'' }}" id="input-setting-widget-subscribe-button-icon-font{{ language.language_id }}" />
                </div>
              {% endfor %}
              </div>
            </div>
          </div>
        </div>
      </div>
              
      {# unsubscribe button icon #}
      <div class="form-group">
        <label class="col-xs-3 control-label" >{{ entry_unsubscribe_button }}</label>
        <div class="col-xs-9">
          <ul class="nav nav-tabs">
            <li class="active"><a href="#tab-widget-unsubscribe-button-icon-image" data-meta="image" data-toggle="tab">{{ tab_image }}</a></li>
            <li><a href="#tab-widget-unsubscribe-button-icon-svg" data-meta="image" data-toggle="tab">{{ tab_svg }}</a></li>
            <li><a href="#tab-widget-unsubscribe-button-icon-font" data-meta="font" data-toggle="tab">{{ tab_font }}</a></li>
          </ul>
          <div class="tab-content">
            <div class="tab-pane active" id="tab-widget-unsubscribe-button-icon-image">
              <div class="el-group">
              {% for language in languages %}
                <span class="el-item-addon"><img src="language/{{ language.code }}/{{ language.code }}.png" title="{{ language.name }}" /></span>
                <div class="el-item">
                  <a href="" id="thumb-setting-widget-unsubscribe-button-icon-image{{ language.language_id }}" data-toggle="image" class="img-thumbnail"><img src="{{ (thumb_unsubscribe_button_icon_image[language.language_id] is defined)?thumb_unsubscribe_button_icon_image[language.language_id]:placeholder_image }}" alt="" title="" data-placeholder="{{ placeholder_image }}" /></a><input type="hidden" name="widget_unsubscribe_button_icon_image[{{ language.language_id }}]" value="{{ (widget_unsubscribe_button_icon_image[language.language_id] is defined)?widget_unsubscribe_button_icon_image[language.language_id]:'' }}" id="input-setting-widget-unsubscribe-button-icon-image{{ language.language_id }}" />
                </div>
              {% endfor %}
              </div>
            </div>
            <div class="tab-pane" id="tab-widget-unsubscribe-button-icon-svg">
              <div class="el-group">
              {% for language in languages %}
                <span class="el-item-addon"><img src="language/{{ language.code }}/{{ language.code }}.png" title="{{ language.name }}" /></span>
                <div class="el-item">
                  <a href="" id="thumb-setting-widget-unsubscribe-button-icon-svg{{ language.language_id }}" data-toggle="svg" class="img-thumbnail"><img width="100" height="100" src="{{ (thumb_unsubscribe_button_icon_svg[language.language_id] is defined)?thumb_unsubscribe_button_icon_svg[language.language_id]:placeholder_svg }}" alt="" title="" data-placeholder="{{ placeholder_svg }}" /></a><input type="hidden" name="widget_unsubscribe_button_icon_svg[{{ language.language_id }}]" value="{{ (widget_unsubscribe_button_icon_svg[language.language_id] is defined)?widget_unsubscribe_button_icon_svg[language.language_id]:'' }}" id="input-setting-widget-unsubscribe-button-icon-svg{{ language.language_id }}" />
                </div>
              {% endfor %}
              </div>
            </div>
            <div class="tab-pane" id="tab-widget-unsubscribe-button-icon-font">
              <div class="el-group">
              {% for language in languages %}
                <span class="el-item-addon"><img src="language/{{ language.code }}/{{ language.code }}.png" title="{{ language.name }}" /></span>
                <div class="el-item">
                  <a href="" id="thumb-setting-widget-unsubscribe-button-icon-font{{ language.language_id }}" data-toggle="font" class="img-thumbnail icon-thumb"><i class="{{ (widget_unsubscribe_button_icon_font[language.language_id] is not empty)?widget_unsubscribe_button_icon_font[language.language_id]:placeholder_font }}" data-placeholder="{{ placeholder_font }}"></i></a><input type="hidden" name="widget_unsubscribe_button_icon_font[{{ language.language_id }}]" value="{{ (widget_unsubscribe_button_icon_font[language.language_id] is defined)?widget_unsubscribe_button_icon_font[language.language_id]:'' }}" id="input-setting-widget-unsubscribe-button-icon-font{{ language.language_id }}" />
                </div>
              {% endfor %}
              </div>
            </div>
          </div>
        </div>
      </div>
              
      {#Button icon size#}
      <div class="form-group">
        <label class="col-xs-3 control-label" for="input-setting-widget-button-icon-size"><span data-toggle="tooltip" title="{{ help_icon_size }}">{{ entry_size }}</span></label>
        <div class="col-xs-9">
          <input type="number" name="widget_button_icon_size" value="{{ widget_button_icon_size }}" placeholder="{{ entry_size }}" class="form-control" id="input-setting-widget-button-icon-size" />
        </div>
      </div>
    </div>
          
    <div id="tab-widget-text" class="tab-pane">
      <ul class="nav nav-tabs tab-dynamic">
        {% for language in languages %}
        <li><a href="#widget-newsletter-text-language-{{ language.language_id }}" data-toggle="tab"><img src="language/{{ language.code }}/{{ language.code }}.png" title="{{ language.name }}" /> {{ language.name }}</a></li>
        {% endfor %}
      </ul>
      <div class="tab-content">
        {% for language in languages %}
        <div id="widget-newsletter-text-language-{{ language.language_id }}" class="tab-pane">
          <div class="form-group">
            <label class="col-xs-3 control-label" for="widget-newsletter-title{{ language.language_id }}">{{ entry_title }}</label>
            <div class="col-xs-9">
              <input type="text" name="widget_description[{{ language.language_id }}][title]" value="{{ widget_description[language.language_id]?widget_description[language.language_id].title }}" id="widget-newsletter-title{{ language.language_id }}" placeholder="{{ entry_title }}" class="form-control" />
            </div>
          </div>
          <div class="form-group">
            <label class="col-xs-3 control-label" for="widget-newsletter-description{{ language.language_id }}">{{ entry_description }}</label>
            <div class="col-xs-9">
              <textarea name="widget_description[{{ language.language_id }}][description]" id="widget-newsletter-description{{ language.language_id }}" placeholder="{{ entry_description }}" class="form-control" >{{ widget_description[language.language_id]?widget_description[language.language_id].description }}</textarea>
            </div>
          </div>
          <div class="form-group">
            <label class="col-xs-3 control-label" for="widget-newsletter-input-placeholder{{ language.language_id }}">{{ entry_input_placeholder }}</label>
            <div class="col-xs-9">
              <input type="text" name="widget_description[{{ language.language_id }}][input_placeholder]" value="{{ widget_description[language.language_id]?widget_description[language.language_id].input_placeholder }}" id="widget-newsletter-input-placeholder{{ language.language_id }}" placeholder="{{ entry_input_placeholder }}" class="form-control" />
            </div>
          </div>
          <div class="form-group">
            <label class="col-xs-3 control-label" for="widget-newsletter-subscribe{{ language.language_id }}">{{ entry_subscribe }}</label>
            <div class="col-xs-9">
              <input type="text" name="widget_description[{{ language.language_id }}][subscribe]" value="{{ widget_description[language.language_id]?widget_description[language.language_id].subscribe }}" id="widget-newsletter-subscribe{{ language.language_id }}" placeholder="{{ entry_subscribe }}" class="form-control" />
            </div>
          </div>
          <div class="form-group">
            <label class="col-xs-3 control-label" for="widget-newsletter-unsubscribe{{ language.language_id }}">{{ entry_unsubscribe }}</label>
            <div class="col-xs-9">
              <input type="text" name="widget_description[{{ language.language_id }}][unsubscribe]" value="{{ widget_description[language.language_id]?widget_description[language.language_id].unsubscribe }}" id="widget-newsletter-unsubscribe{{ language.language_id }}" placeholder="{{ entry_unsubscribe }}" class="form-control" />
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
    </div>
    
    <div id="tab-widget-notification" class="tab-pane">
      <div class="form-group">
        <label class="col-sm-2 control-label" for="input-widget-notification-channel"><span data-toggle="tooltip" title="{{ help_channel }}">{{ entry_channel }}</span></label>
        <div class="col-sm-10">
          <input type="text" name="notification_channel" value="" placeholder="{{ entry_channel }}" id="input-widget-notification-channel" class="form-control large" />
          <div id="widget-notification-channel" class="well well-sm" style="height: 150px; overflow: auto;"> {% for notification_channel in notification_channels %}
            <div id="widget-notification-channel{{ notification_channel.channel_id }}"><i class="fa fa-minus-circle"></i> {{ notification_channel.name }}
              <input type="hidden" name="widget_notification_channel[]" value="{{ notification_channel.channel_id }}" />
            </div>
            {% endfor %}</div>
        </div>
      </div>
    </div>
  </div>
  <script>
  // Channel
  $('input[name=\'notification_channel\']').autocomplete({
    'source': function(request, response) {
      $.ajax({
        url: 'index.php?route=extension/maza/notification/channel/autocomplete&user_token={{ user_token }}&filter_name=' +  encodeURIComponent(request),
        dataType: 'json',
        success: function(json) {
          response($.map(json, function(item) {
            return {
              label: item['name'],
              value: item['channel_id']
            }
          }));
        }
      });
    },
    'select': function(item) {
      $('input[name=\'notification_channel\']').val('');

      $('#widget-notification-channel' + item['value']).remove();

      $('#widget-notification-channel').append('<div id="widget-notification-channel' + item['value'] + '"><i class="fa fa-minus-circle"></i> ' + item['label'] + '<input type="hidden" name="widget_notification_channel[]" value="' + item['value'] + '" /></div>');
    }
  });

  $('#widget-notification-channel').delegate('.fa-minus-circle', 'click', function() {
    $(this).parent().remove();
  });
  </script>
</form>