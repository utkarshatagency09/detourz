<form>
  <fieldset id="payment">
    <legend>{{ text_credit_card }}</legend>
    <div class="mb-3 row required">
      <label class="col-sm-2 col-form-label" for="input-cc-owner">{{ entry_cc_owner }}</label>
      <div class="col-sm-10">
        <input type="text" name="cc_owner" value="" placeholder="{{ entry_cc_owner }}" id="input-cc-owner" class="form-control" />
      </div>
    </div>
    <div class="mb-3 row required">
      <label class="col-sm-2 col-form-label" for="input-cc-number">{{ entry_cc_number }}</label>
      <div class="col-sm-10">
        <input type="text" name="cc_number" value="" placeholder="{{ entry_cc_number }}" id="input-cc-number" class="form-control" />
      </div>
    </div>
    <div class="mb-3 row required">
      <label class="col-sm-2 col-form-label" for="input-cc-expire-date">{{ entry_cc_expire_date }}</label>
      <div class="col-sm-3">
        <select name="cc_expire_date_month" id="input-cc-expire-date" class="form-control">
          {% for month in months %}
          <option value="{{ month.value }}">{{ month.text }}</option>
          {% endfor %}
        </select>
      </div>
      <div class="col-sm-3">
        <select name="cc_expire_date_year" class="form-control">
          {% for year in year_expire %}
          <option value="{{ year.value }}">{{ year.text }}</option>
          {% endfor %}
        </select>
      </div>
    </div>
    <div class="mb-3 row required">
      <label class="col-sm-2 col-form-label" for="input-cc-cvv2">{{ entry_cc_cvv2 }}</label>
      <div class="col-sm-10">
        <input type="text" name="cc_cvv2" value="" placeholder="{{ entry_cc_cvv2 }}" id="input-cc-cvv2" data-loading-text="{{ text_loading }}" class="form-control" />
      </div>
    </div>
  </fieldset>
</form>
<div class="buttons d-flex justify-content-between">
	<a href="{{ mz_back }}" class="btn btn-lg btn-secondary flex-grow-1 me-3"><i class="fas fa-caret-left"></i> {{ button_edit }}</a>
	<button type="button" id="button-confirm" data-loading-text="{{ text_loading }}" class="btn btn-lg btn-primary flex-grow-1">{{ button_confirm }} <i class="fas fa-caret-right"></i></button>
</div>
<script><!--
$('#button-confirm').bind('click', function() {
	$.ajax({
		url: 'index.php?route=extension/payment/sagepay_us/send',
		type: 'post',
		data: $('#payment :input'),
		dataType: 'json',
		cache: false,
		beforeSend: function() {
			$('#button-confirm').prepend('<span class="spinner-grow spinner-grow-sm" role="status" aria-hidden="true"></span>');
		},
		complete: function() {
			$('#button-confirm').children('.spinner-grow').remove();
		},
		success: function(json) {
			if (json['error']) {
				alert(json['error']);
			}

			if (json['redirect']) {
				location = json['redirect'];
			}
		}
	});
});
//--></script>